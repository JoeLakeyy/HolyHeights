<div id="map"></div>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
  />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

  <!-- PapaParse -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

  <!-- JS -->
  <script src="script.js" defer></script>
</head>




<div id="timelineContainer">

  <div id="sliderRow">

    <!-- Transport Controls -->
    <div id="transportControls">
      <button id="backToStartBtn">⏮</button>
      <button id="playPauseBtn">▶</button>
      <button id="speedToggleBtn">1×</button>
    </div>

    <!-- Slider + Tick Wrapper -->
    <div id="sliderWrapper">
      <div id="yearTicks"></div>

      <input
        id="yearSlider"
        type="range"
        min="0"
        max="1"
        value="0"
        step="0.0005"
      />
    </div>

    <!-- Year Navigation Arrows -->
    <div id="yearNavButtons">
      <button id="prevYearBtn">◀</button>
      <button id="nextYearBtn">▶</button>
    </div>

  </div>
  <div id="yearLabel">Year: 0</div>

</div>





<!-- Permanent Left Panel -->
<div id="leftPanel" role="region" aria-label="Details panel">
  <div id="leftTabs">
    <button class="tab-btn active" data-tab="info">About</button>
    <button class="tab-btn" data-tab="year">Year</button>
    <button class="tab-btn" data-tab="building">Building</button>
  </div>

  <div id="leftContent">
    <!-- Information Tab -->
    <section id="tab-info" class="tab-section">
      <h2 class="lp-title">Holy Heights</h2>
      <h4 class="lp-title"><em>100 of the tallest religious buildings in history</em></h4>

      <p class="lp-text">
        Explore the height of religious buildings throughout history, from the Great Pyramid of Giza to the Sagrada Família.
      </p>
      <p class="lp-text">
        <span><strong>Navigation:</strong></span> <br>
        • The left panel can be resized using the grab bar. <br>
       • Refer to the collapsable legend for icon meanings and construction/destruction timeline colours.<br>
        • Move the timeline slider through the centuries to see when each structure was begun, completed, or destroyed.<br>
• <span style="color:#FFD700; font-weight:bold;">⏮</span> Reset the slider <br>
• <span style="color:#FFD700; font-weight:bold;">▶/⏸</span> Play or pause the timeline <br>
• <span style="color:#FFD700; font-weight:bold;">1x–8x</span> Adjust playback speed <br>
• <span style="color:#FFD700; font-weight:bold;">◀/▶</span> Step backwards/forwards one year <br>
• <span style="color:#FFD700; font-weight:bold;">+/–</span> Adjust zoom level

        <br>
        • Use the filters to focus on specific continents or religions.<br>
 • Click any marker on the map to view detailed information.<br> 
      </p>
      <p class="lp-text">
        <span><strong>Inclusion criteria:</strong></span> 
        Buildings must either be a place of worship, statue representing a religious figure, burials of religious significance, or residences for religious leaders. The single highest point is taken for each building. The 100 buildings selected are not strictly the tallest ever constructed; Religious significance, historical context and editorial judgement guided the selection. 
      </p>
      <p class="lp-text">
        <span><strong>Technical clarifications:</strong></span> Height over time is modelled as a linear progression between construction start and construction end. The dataset was constructed primarily from Wikipedia pages, with additional sources used where crucial information was missing or ambiguous. Copliot assisted in this project by refining parts of the syntax and data structure.
      </p>
    </section>

    <!-- Year Tab -->
    <section id="tab-year" class="tab-section" hidden>
      <h3 class="lp-subtitle">
        Standing in <span id="yearTabYear"></span>
      </h3>
      <p> Click any building from the list to zoom to its location and view full details. </p>
      <div id="yearList" class="list-scroll"></div>
    </section>

    <!-- Building Tab -->
    <section id="tab-building" class="tab-section" hidden>
      <h3 class="lp-subtitle" id="bldgTitle"></h3>

      <!-- Wikipedia link (source1) -->
      <div id="bldgWiki"></div>

      <div class="kv">
        <div class="kv-row"><span class="kv-key">Religion (origin):</span><span id="bldgRelOrigin"></span></div>
        <div class="kv-row"><span class="kv-key">Religion (current):</span><span id="bldgRelCurrent"></span></div>
        <div class="kv-row"><span class="kv-key">Religion (group):</span><span id="bldgRelGroup"></span></div>

        <div class="kv-row"><span class="kv-key">Type:</span><span id="bldgType"></span></div>
        <div class="kv-row"><span class="kv-key">Country:</span><span id="bldgCountry"></span></div>
        <div class="kv-row"><span class="kv-key">Continent:</span><span id="bldgContinent"></span></div>
        <div class="kv-row"><span class="kv-key">Construction start:</span><span id="bldgStart"></span></div>
        <div class="kv-row"><span class="kv-key">Construction end:</span><span id="bldgEnd"></span></div>
        <div class="kv-row"><span class="kv-key">Destruction year:</span><span id="bldgDestroyed"></span></div>
        <div class="kv-row"><span class="kv-key">Height (m):</span><span id="bldgHeightM"></span></div>
        <div class="kv-row"><span class="kv-key">Max height (m):</span><span id="bldgMaxHeight"></span></div>
        <div class="kv-row"><span class="kv-key">Height at year (m):</span><span id="bldgHeightAtYear"></span></div>
        <div class="kv-row"><span class="kv-key">Year:</span><span id="bldgYear"></span></div>
      </div>

      <!-- Other sources -->
      <div id="bldgOtherSources"></div>
    </section>
  </div>
</div>
<div id="leftPanelResizer">
  <div class="grab-handle"></div>
</div>



<!-- Filters Panel -->
<button id="filterToggle" aria-expanded="false" aria-controls="filterPanel">
  ☰ Filters
</button>

<div id="filterPanel" role="region" aria-label="Filters" aria-hidden="true">
  <div id="filterHeader">
    <span>Filters</span>
    <button id="closeFilters" aria-label="Close filters">✕</button>
  </div>

  <div id="filterScrollArea">
    <div class="filter-group">
      <div class="filter-title">Religion</div>
      <label class="select-all">
        <input type="checkbox" id="religionSelectAll" checked />
        Select all
      </label>
      <div id="filterReligionGroup" class="checkbox-list"></div>
    </div>

    <div class="filter-group">
      <div class="filter-title">Continent</div>
      <label class="select-all">
        <input type="checkbox" id="continentSelectAll" checked />
        Select all
      </label>
      <div id="filterContinentGroup" class="checkbox-list"></div>
    </div>
  </div>
</div>

<div id="mapLegend">
  <div id="legendHeader">Legend ▼</div>
  <div id="legendBody">

    <div class="legend-item"><img src="icons/cathedral-svgrepo-com.svg"> Cathedral</div>
    <div class="legend-item"><img src="icons/mosque-svgrepo-com.svg"> Mosque</div>
    <div class="legend-item"><img src="icons/pyramid-svgrepo-com.svg"> Pyramid</div>
    <div class="legend-item"><img src="icons/stupa-svgrepo-com.svg"> Stupa</div>
    <div class="legend-item"><img src="icons/synagogue-svgrepo-com.svg"> Synagogue</div>
    <div class="legend-item"><img src="icons/hindu-temple-svgrepo-com.svg"> Gopura</div>
    <div class="legend-item"><img src="icons/hindu-temple-stupa-svgrepo-com.svg"> Temple</div>
    <div class="legend-item"><img src="icons/great-buddha-of-nara-1-svgrepo-com.svg"> Statue</div>
    <div class="legend-item"><img src="icons/pagoda-svgrepo-com.svg"> Pagoda</div>

<div class="legend-divider"></div>
  <!-- LEGEND ITEMS -->
  <div class="legend-item">
    <span class="legend-color legend-blue"></span> Build start
  </div>
  <div class="legend-item">
    <span class="legend-color legend-gold"></span> Build end
  </div>
  <div class="legend-item">
    <span class="legend-color legend-red"></span> Destroyed
  </div>
</div>
  </div>